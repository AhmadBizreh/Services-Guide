{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AHMAD\\\\Desktop\\\\01-starting-project\\\\src\\\\components\\\\Profile\\\\ProfileForm.js\",\n  _s = $RefreshSig$();\n// import { border } from '@mui/system';\nimport { useSelector } from 'react-redux';\nimport { useRef } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport classes from './ProfileForm.module.css';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProfileForm = () => {\n  _s();\n  const email = useSelector(state => state.auth.email);\n  const id = useSelector(state => state.auth.id);\n  const newPasswordRef = useRef();\n  const history = useHistory();\n  const editPasswrdHanler = event => {\n    event.preventDefault();\n    const newPassword = newPasswordRef.current.value;\n    fetch('https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyBSrVcbFFY5pAuN1s0ouA6h_Tx3J3UnvgQ', {\n      method: 'POST',\n      body: JSON.stringify({\n        idToken: id,\n        password: newPassword,\n        returnSecureToken: false\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      if (res.ok) {\n        toast(\"done\");\n        console.log(res);\n        history.push('/');\n        return res.json();\n      } else {\n        res.json().then(data => {\n          // console.log(data.error.message);\n          let errorMassage = \"Connection Failed\";\n          TOKEN_EXPIRED;\n          if (data.error.message === 'TOKEN_EXPIRED') {\n            errorMassage = 'Pleass Re-login to Change The Password Again ';\n          }\n          if (data.error.message) {\n            errorMassage = data.error.message;\n          }\n          toast(errorMassage);\n          throw new Error(errorMassage);\n        });\n      }\n    }).then(data => {}).catch(() => {});\n    console.log(newPassword);\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: classes.form,\n    onSubmit: editPasswrdHanler,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.control,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"new-password\",\n        children: \"New Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        id: \"new-password\",\n        ref: newPasswordRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.action,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        children: [\"Change Password\", /*#__PURE__*/_jsxDEV(ToastContainer, {\n          position: \"top-center\",\n          autoClose: 1500,\n          hideProgressBar: false,\n          newestOnTop: false,\n          closeOnClick: false,\n          rtl: true,\n          pauseOnFocusLoss: true,\n          draggable: true,\n          pauseOnHover: true,\n          theme: \"colored\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_s(ProfileForm, \"Epk1nC8e1u0+khOSH3H6LypTkQQ=\", false, function () {\n  return [useSelector, useSelector, useHistory];\n});\n_c = ProfileForm;\nexport default ProfileForm;\nvar _c;\n$RefreshReg$(_c, \"ProfileForm\");","map":{"version":3,"names":["useSelector","useRef","useHistory","classes","ToastContainer","toast","ProfileForm","email","state","auth","id","newPasswordRef","history","editPasswrdHanler","event","preventDefault","newPassword","current","value","fetch","method","body","JSON","stringify","idToken","password","returnSecureToken","headers","then","res","ok","console","log","push","json","data","errorMassage","TOKEN_EXPIRED","error","message","Error","catch","form","control","action"],"sources":["C:/Users/AHMAD/Desktop/01-starting-project/src/components/Profile/ProfileForm.js"],"sourcesContent":["// import { border } from '@mui/system';\nimport { useSelector } from 'react-redux';\n\nimport { useRef } from 'react';\n\nimport { useHistory } from 'react-router-dom';\n\nimport classes from './ProfileForm.module.css';\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst ProfileForm = () => {\n  const email = useSelector(state => state.auth.email);\n  const id = useSelector(state => state.auth.id);\n  const newPasswordRef = useRef();\n  const history = useHistory();\n\n  const editPasswrdHanler = (event) => {\n    event.preventDefault();\n    const newPassword = newPasswordRef.current.value;\n    fetch('https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyBSrVcbFFY5pAuN1s0ouA6h_Tx3J3UnvgQ', {\n      method: 'POST',\n      body: JSON.stringify({\n        idToken: id,\n        password: newPassword,\n        returnSecureToken: false,\n\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }).then((res) => {\n      if (res.ok) {\n        toast(\"done\");\n        console.log(res);\n        history.push('/');\n        return (\n          res.json()\n        );\n\n      } else {\n        res.json().then((data) => {\n          // console.log(data.error.message);\n          let errorMassage = \"Connection Failed\";\n          TOKEN_EXPIRED\n          if (data.error.message==='TOKEN_EXPIRED') {\n            errorMassage = 'Pleass Re-login to Change The Password Again ';\n          }\n\n          if (data.error.message) {\n            errorMassage = data.error.message;\n          }\n          toast(errorMassage);\n          throw new Error(errorMassage);\n        });\n      }\n    }).then((data) => {\n\n    }).catch(() => { });\n    console.log(newPassword);\n  };\n\n\n\n  return (\n    <form className={classes.form} onSubmit={editPasswrdHanler}>\n      <div className={classes.control}>\n        <label htmlFor='new-password'>New Password</label>\n        <input type='password' id='new-password' ref={newPasswordRef} />\n      </div>\n      <div className={classes.action}>\n        <button>\n          Change Password\n          <ToastContainer\n            position=\"top-center\"\n            autoClose={1500}\n            hideProgressBar={false}\n            newestOnTop={false}\n            closeOnClick={false}\n            rtl\n            pauseOnFocusLoss\n            draggable\n            pauseOnHover\n            theme=\"colored\"\n          />\n        </button>\n        <p>{email}</p>\n        {/* <p>{id}</p> */}\n      </div>\n    </form>\n  );\n}\n\nexport default ProfileForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}