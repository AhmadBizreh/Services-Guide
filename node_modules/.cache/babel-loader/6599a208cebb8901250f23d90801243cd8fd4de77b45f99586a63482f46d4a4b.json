{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AHMAD\\\\Desktop\\\\01-starting-project\\\\src\\\\components\\\\Profile\\\\ProfileForm.js\",\n  _s = $RefreshSig$();\n// import { border } from '@mui/system';\nimport { useSelector } from 'react-redux';\nimport { useRef, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport classes from './ProfileForm.module.css';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProfileForm = () => {\n  _s();\n  const email = useSelector(state => state.auth.email);\n  const id = useSelector(state => state.auth.id);\n  const newPasswordRef = useRef();\n  const history = useHistory();\n  const [changePasswordClicked, setChangePasswordClicked] = useState(false);\n  const editPasswrdHanler = event => {\n    event.preventDefault();\n    const newPassword = newPasswordRef.current.value;\n    fetch('https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyBSrVcbFFY5pAuN1s0ouA6h_Tx3J3UnvgQ', {\n      method: 'POST',\n      body: JSON.stringify({\n        idToken: id,\n        password: newPassword,\n        returnSecureToken: false\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      if (res.ok) {\n        toast(\"done\");\n        console.log(res);\n        history.push('/');\n        return res.json();\n      } else {\n        res.json().then(data => {\n          console.log(data.error.message);\n          console.log(data.error.message);\n          let errorMassage = \"Connection Failed\";\n          if (data.error.message) {\n            errorMassage = data.error.message;\n          }\n          toast(errorMassage);\n          throw new Error(errorMassage);\n        });\n      }\n    }).then(data => {}).catch(() => {});\n    console.log(newPassword);\n  };\n  const changePasswordClickedHanler = () => {\n    setChangePasswordClicked(true);\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: classes.form,\n    onSubmit: editPasswrdHanler,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.control,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"new-password\",\n        children: \"New Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), changePasswordClicked && /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        id: \"new-password\",\n        ref: newPasswordRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 35\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.action,\n      children: [changePasswordClicked && /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: changePasswordClickedHanler,\n        children: \"Change Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 35\n      }, this), !changePasswordClicked && /*#__PURE__*/_jsxDEV(\"button\", {\n        children: [\"Change Password\", /*#__PURE__*/_jsxDEV(ToastContainer, {\n          position: \"top-center\",\n          autoClose: 1500,\n          hideProgressBar: false,\n          newestOnTop: false,\n          closeOnClick: false,\n          rtl: true,\n          pauseOnFocusLoss: true,\n          draggable: true,\n          pauseOnHover: true,\n          theme: \"colored\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 36\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n_s(ProfileForm, \"Yvn8o8t7x2NH+mU6Kpgh4bHQiK0=\", false, function () {\n  return [useSelector, useSelector, useHistory];\n});\n_c = ProfileForm;\nexport default ProfileForm;\nvar _c;\n$RefreshReg$(_c, \"ProfileForm\");","map":{"version":3,"names":["useSelector","useRef","useState","useHistory","classes","ToastContainer","toast","ProfileForm","email","state","auth","id","newPasswordRef","history","changePasswordClicked","setChangePasswordClicked","editPasswrdHanler","event","preventDefault","newPassword","current","value","fetch","method","body","JSON","stringify","idToken","password","returnSecureToken","headers","then","res","ok","console","log","push","json","data","error","message","errorMassage","Error","catch","changePasswordClickedHanler","form","control","action"],"sources":["C:/Users/AHMAD/Desktop/01-starting-project/src/components/Profile/ProfileForm.js"],"sourcesContent":["// import { border } from '@mui/system';\nimport { useSelector } from 'react-redux';\n\nimport { useRef, useState } from 'react';\n\nimport { useHistory } from 'react-router-dom';\n\nimport classes from './ProfileForm.module.css';\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst ProfileForm = () => {\n  const email = useSelector(state => state.auth.email);\n  const id = useSelector(state => state.auth.id);\n  const newPasswordRef = useRef();\n  const history = useHistory();\n  const [changePasswordClicked, setChangePasswordClicked] = useState(false);\n\n  const editPasswrdHanler = (event) => {\n    event.preventDefault();\n    const newPassword = newPasswordRef.current.value;\n    fetch('https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyBSrVcbFFY5pAuN1s0ouA6h_Tx3J3UnvgQ', {\n      method: 'POST',\n      body: JSON.stringify({\n        idToken: id,\n        password: newPassword,\n        returnSecureToken: false,\n\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }).then((res) => {\n      if (res.ok) {\n        toast(\"done\");\n        console.log(res);\n        history.push('/');\n        return (\n          res.json()\n        );\n\n      } else {\n        res.json().then((data) => {\n          console.log(data.error.message);\n          console.log(data.error.message);\n          let errorMassage = \"Connection Failed\";\n\n          if (data.error.message) {\n            errorMassage = data.error.message;\n          }\n          toast(errorMassage);\n          throw new Error(errorMassage);\n        });\n      }\n    }).then((data) => {\n\n    }).catch(() => { });\n    console.log(newPassword);\n  };\n\n  const changePasswordClickedHanler = () => {\n    setChangePasswordClicked(true);\n  };\n\n\n\n\n  return (\n    <form className={classes.form} onSubmit={editPasswrdHanler}>\n      <div className={classes.control}>\n        <label htmlFor='new-password'>New Password</label>\n        {changePasswordClicked && <input type='password' id='new-password' ref={newPasswordRef} />}\n      </div>\n      <div className={classes.action}>\n        {changePasswordClicked && <button type='button' onClick={changePasswordClickedHanler}>Change Password</button>}\n        {!changePasswordClicked && <button>\n          Change Password\n          <ToastContainer\n            position=\"top-center\"\n            autoClose={1500}\n            hideProgressBar={false}\n            newestOnTop={false}\n            closeOnClick={false}\n            rtl\n            pauseOnFocusLoss\n            draggable\n            pauseOnHover\n            theme=\"colored\"\n          />\n        </button>}\n        <p>{email}</p>\n        {/* <p>{id}</p> */}\n      </div>\n    </form>\n  );\n}\n\nexport default ProfileForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}